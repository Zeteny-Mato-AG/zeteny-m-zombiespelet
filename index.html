<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zombie Spel</title>
</head>
<body>
    <script src="https://koda.nu/simple.js">

        var zombies=[];

        var i=0;

        while(i<10)
        {
            zombies.push({x: random(totalWidth), 
                    y: random(totalHeight),
                    speed: random(1,5)});
            i+=1;
        }
        
        function play() {
        var audio = new Audio('https://www.youtube.com/watch?v=8Oy9qERg8zs');
        audio.play();
        }

        var player = {x:100, y:100};

        hideMouse();

        function update()
        {
            fill("blue");

            circle(player.x, player.y, 30, "red");
            
            if (keyboard.d)
                player.x += 7;
            if (keyboard.a)
                player.x -= 7;
            if (keyboard.w)
                player.y -= 7;
            if (keyboard.s)
                player.y += 7;

            var i=0;

            while(i<10)
            {
                var zombie=zombies[i];

                picture (zombie.x, zombie.y, "./images/zombie.png");
            
                if (zombie.x < player.x)
                    zombie.x += zombie.speed;
                else
                    zombie.x -= zombie.speed;
            
                if (zombie.y < player.y)
                    zombie.y += zombie.speed;
                else
                    zombie.y -= zombie.speed;

                if (distance(player, zombie) < 5)
                {
                    text(100,100,50, "YOU DIED", "red");
                    showMouse();
                    stopUpdate();
                }
                i +=1;
            }
        }

    </script>
</body>
</html>